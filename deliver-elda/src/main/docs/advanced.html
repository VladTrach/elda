<html>
<head>
<title>Elda -- an implementation of the Linked Data API</title>
<style>
h1
    { background: #ccccff
    }

h2
    { background: #ccccff
    ; padding-left: 1px
    }

pre
    { background: #dddddd
    ; margin-left: 2em
    }
</style>
</head>
<body>

<h1>Elda configuration</h1>

<h2>changing the port number</h2>

<p>
To change the port number without having to
supply a -Djetty.port command line option
every time, in the Elda directory edit the
configuration file <code>etc/jetty.xml</code>
and change the line:

<pre>
&lt;Set name="port"&gt;&lt;SystemProperty name="jetty.port" default="8080"/&gt;&lt;/Set&gt;
</pre>

to:

<pre>
&lt;Set name="port"&gt;&lt;SystemProperty name="jetty.port" default="NNNN"/&gt;&lt;/Set&gt;
</pre>
where NNNN is the port number of your choice.
</p>

<h2>different specifications using the command line</h2>

<p>
To use different LDA specifications, use the system property 
<code>elda.spec</code>. Like the port number, it can be set
as part of launching the elda jar or when launching the jetty
start jar:

<pre>
java -jar elda.jar -Delda.spec=SPECS
</pre>

or (in the Elda directory):

<pre>
java -Delda.spec=SPECS -jar start.jar
</pre>

where SPECS is one or more LDA specification files separated
by commas.
</p>

<p>
If you use elda.spec, then elda ignores the default specification
(the education LDA) wired into it.
</p>

<h2>different specifications using web.xml</h2>

<p>
To change the specification used without having to use
a -Delda.spec command line option every time, edit the
Elda <code>webapps/elda/WEB-INF/web.xml</code>. Find the
servlet configuration

<pre>
&lt;servlet&gt;
  &lt;servlet-name&gt;loader-init&lt;/servlet-name&gt;
  &lt;servlet-class&gt;com.epimorphics.lda.routing.Loader&lt;/servlet-class&gt;
  &lt;init-param&gt;
    &lt;param-name&gt;com.epimorphics.api.initialSpecFile&lt;/param-name&gt;
    &lt;param-value&gt;<b>specs/education.ttl</b>&lt;/param-value&gt;
  &lt;/init-param&gt;
  &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
&lt;/servlet&gt;
</pre>

Replace <b>specs/education.ttl</b> with the name of the LDA
specification files you wish to load, separated by commas. 
</p>


<h2>setting up your own SPARQL endpoint</h2>

<p>To Be Done.</p>

<h2>using Elda as a webapp</h2>

<p>To Be Done.</p>

<h2>using a local TDB datasource</h2>

<p>
As an alternative to setting up a local SPARQL endpoint, you
can instead use a
<a href="http://openjena.org/wiki/TDB">Jena TDB</a>
database. To do so you will need to modify the <code>web.xml</code>
webapp configuration file and supply an additional init-param
for the <code>loader-init</code> servlet. You can do this in
two ways:
<p>

<pre>
  &lt;init-param>
    &lt;param-name>com.epimorphics.api.TDB-base-directory&lt;/param-name>
    &lt;param-value><b>tdb-directory</b>&lt;/param-value>
  &lt;/init-param&gt;
</pre>

<p>
Replace <b>tdb-directory</b> with the path to
your chosen TDB directory. Note that the path is relative to the
webapps directory -- your best choice is to use an absolute path.
</p>

<p>
<i>Warning</i>. If the directory does not contain any TDB files,
TDB will create a new empty dataset in it. This is usually not
what you want, since all queries will return no answers, so
Elda will report an error during setup.
</p>

<p>
The alternative form:
</p>

<pre>
  &lt;init-param>
    &lt;param-name>com.epimorphics.api.dataStoreDirectory&lt;/param-name>
    &lt;param-value><b>datastore-directory</b>&lt;/param-value>
  &lt;/init-param&gt;
</pre>

<p>
specifies <b>datastore-directory</b> as a directory containing a
TDB directory named <i>tdb</i>. The same warnings as above apply. 
(This form exists because Elda can do limited LARQ indexing and
in that case the datastore directory will have a <b>larq</b>
subdirectory for the LARQ indexes.)
</p>



</body>
</html>

