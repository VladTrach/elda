<html>
<head>
<title>Elda -- an implementation of the Linked Data API</title>
<link href="style.css" type="text/css" rel="stylesheet"></link>
</head>
<body>
<div class="main">

<div class="heading">
<a href="http://www.epimorphics.com">
<img class="logo" src="epilogo-240.png">
</a>
<h1>Elda</h1>
<h2>An implementation of the Linked Data API</h2>
</div>


<p>
This document is a quick-start for the 
<a href="http://www.epimorphics.com">Epimorphics Ltd</a>
implementation, Elda, of the 
<a href="http://code.google.com/p/linked-data-api/wiki/Specification">Linked Data API</a>.
The Elda jar can be downloaded from its Googlecode 
<a href="http://code.google.com/p/elda/downloads/list">downloads page</a>;
pick the latest unless you have good reason not to.
</p>

<h3>What is the LDA?</h3>

<p>
The Linked Data API provides a configurable way to access RDF data
using simple RESTful URLs that are translated into queries to
a SPARQL endpoint. The API developer (probably you) writes an
API spec (in RDF) which specifies how to translate URLs into
queries. Elda comes with some pre-built examples which allow
you to experiment with the style of query and get started with
building your own specs.
</p>

<h3>Prerequisites</h3>

<p>Elda is written in Java 
(using the <a href="http://openjena.org/">Jena RDF toolkit</a>),
so you will need Java installed on your system.
</p>

<p>
The default demonstration setup for Elda uses the 
<code>data.gov.uk</code>
data accessible from the SPARQL endpoint 
<code>http://services.data.gov.uk/education/sparql</code>.
To run the demonstration, you will need to have open
web access.
</p>

<h3>Caveat</h3>

<p>
This is an early release of Elda to get feedback from the community.
Some features of the LDA have not yet been implemented, or are not
completely implemented --
see <a href="implementation-state.html">the implementation state</a>. 
We welcome feedback; please use the
<a href="http://groups.google.com/group/linked-data-api-discuss">
linked data API discussion group
</a> google-group (note: you will need a google account to 
use this group).

</p>

<h2>Getting started</h2>

<p>
The Elda code is shipped as a single self-unpacking jar, 
<code>elda.jar</code>. You can start it from the command line:

<pre>
java -jar elda.jar
</pre>

or, if your system permits, by double-clicking on it in
your preferred file browser.
</p>

<p>
In either case, Elda unzips itself from its jar into a
new directory, currently Elda_1.0, from which it starts
itself as a Jetty server running on port 8080.
</p>

<p>
You should now be able to browse to

<pre>
<a href="http://localhost:8080/elda/api/education/schools.json">http://localhost:8080/elda/api/education/schools.json</a>
</pre>

and see a JSON presentation of the top-level schools
data.
</p>

<p>
Once Elda has unzipped itself, you can run it from the Elda
directory it creates:

<pre>
java -jar start.jar
</pre>

(Or by double-clicking, etc).
</p>

<h2>I can't use port 8080</h2>

<p>
You may already be using port 8080 for some local service.
In that case, you can start Elda from the command
line (no double-click) with

<pre>
java -jar elda.jar -Djetty.port=NNNN
</pre>

or, if you're starting from the unzipped Elda directory,

<pre>
java -Djetty.port=NNNN -jar start.jar
</pre>

where NNNN is the port of your choice. (Yes, the -D
comes after elda.jar, but before start.jar.)
</p>

<p>
To change the port number without having to
supply a -Djetty.port command line option
every time, in the Elda directory edit the
configuration file <code>etc/jetty.xml</code>
and change the line:

<pre>
&lt;Set name="port"&gt;&lt;SystemProperty name="jetty.port" default="8080"/&gt;&lt;/Set&gt;
</pre>

to:

<pre>
&lt;Set name="port"&gt;&lt;SystemProperty name="jetty.port" default="NNNN"/&gt;&lt;/Set&gt;
</pre>
where NNNN is the port number of your choice.
</p>
<h2>Different specifications using the command line</h2>

<p>
To use different LDA specifications, use the system property 
<code>elda.spec</code>. Like the port number, it can be set
as part of launching the elda jar or when launching the jetty
start jar:

<pre>
java -jar elda.jar -Delda.spec=SPECS
</pre>

or (in the Elda directory):

<pre>
java -Delda.spec=SPECS -jar start.jar
</pre>

where SPECS is one or more LDA specification files separated
by commas.
</p>

<p>
If you use elda.spec, then elda ignores the default specification
(the education LDA) wired into it.
</p>

<h2>Different specifications using web.xml</h2>

<p>
To change the specification used without having to use
a -Delda.spec command line option every time, edit the
Elda <code>webapps/elda/WEB-INF/web.xml</code>. Find the
servlet configuration

<pre>
&lt;servlet&gt;
  &lt;servlet-name&gt;loader-init&lt;/servlet-name&gt;
  &lt;servlet-class&gt;com.epimorphics.lda.routing.Loader&lt;/servlet-class&gt;
  &lt;init-param&gt;
    &lt;param-name&gt;com.epimorphics.api.initialSpecFile&lt;/param-name&gt;
    &lt;param-value&gt;<b>specs/education.ttl</b>&lt;/param-value&gt;
  &lt;/init-param&gt;
  &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
&lt;/servlet&gt;
</pre>

Replace <b>specs/education.ttl</b> with the name of the LDA
specification files you wish to load, separated by commas. 
</p>


<h2>Setting up your own SPARQL endpoint</h2>

<p>To Be Done.</p>

<h2>Using Elda as a webapp</h2>

<p>To Be Done.</p>

<h2>Using a local TDB datasource</h2>

<p>
As an alternative to setting up a local SPARQL endpoint, you
can instead use a
<a href="http://openjena.org/wiki/TDB">Jena TDB</a>
database. To do so you will need to modify the <code>web.xml</code>
webapp configuration file and supply an additional init-param
for the <code>loader-init</code> servlet. You can do this in
two ways:
<p>

<pre>
  &lt;init-param>
    &lt;param-name>com.epimorphics.api.TDB-base-directory&lt;/param-name>
    &lt;param-value><b>tdb-directory</b>&lt;/param-value>
  &lt;/init-param&gt;
</pre>

<p>
Replace <b>tdb-directory</b> with the path to
your chosen TDB directory. Note that the path is relative to the
webapps directory -- your best choice is to use an absolute path.
</p>

<p>
<i>Warning</i>. If the directory does not contain any TDB files,
TDB will create a new empty dataset in it. This is usually not
what you want, since all queries will return no answers, so
Elda will report an error during setup.
</p>

<p>
The alternative form:
</p>

<pre>
  &lt;init-param>
    &lt;param-name>com.epimorphics.api.dataStoreDirectory&lt;/param-name>
    &lt;param-value><b>datastore-directory</b>&lt;/param-value>
  &lt;/init-param&gt;
</pre>

<p>
specifies <b>datastore-directory</b> as a directory containing a
TDB directory named <i>tdb</i>. The same warnings as above apply. 
(This form exists because Elda can do limited LARQ indexing and
in that case the datastore directory will have a <b>larq</b>
subdirectory for the LARQ indexes.)
</p>

<div class="footer">
&copy; Copyright Epimorphics Limited 2010. For licencing conditions see
<a href="http://elda.googlecode.com/hg/LICENCE">http://elda.googlecode.com/hg/LICENCE</a>.
</div>
</div>

</body>
</html>
